# äº”é™©ä¸€é‡‘è®¡ç®—å™¨

ä¸€ä¸ªåŸºäº Next.js å’Œ Supabase çš„äº”é™©ä¸€é‡‘è®¡ç®—å™¨ Web åº”ç”¨ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ“Š æ•°æ®ä¸Šä¼ ï¼šæ”¯æŒä¸Šä¼ åŸå¸‚æ ‡å‡†å’Œå‘˜å·¥å·¥èµ„çš„ Excel æ–‡ä»¶
- ğŸ§® è‡ªåŠ¨è®¡ç®—ï¼šæ ¹æ®é¢„è®¾è§„åˆ™è‡ªåŠ¨è®¡ç®—ç¤¾ä¿å…¬ç§¯é‡‘è´¹ç”¨
- ğŸ“‹ ç»“æœå±•ç¤ºï¼šæ¸…æ™°å±•ç¤ºè®¡ç®—ç»“æœï¼Œæ”¯æŒå¯¼å‡º Excel
- ğŸ¨ ç°ä»£åŒ– UIï¼šä½¿ç”¨ Tailwind CSS æ„å»ºçš„å“åº”å¼ç•Œé¢

## å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
npm install
```

### 2. é…ç½®ç¯å¢ƒå˜é‡

åˆ›å»º `.env.local` æ–‡ä»¶ï¼ˆå·²æä¾›ç¤ºä¾‹ `.env.local.example`ï¼‰ï¼Œå¡«å…¥æ‚¨çš„ Supabase å‡­æ®ï¼š

```env
NEXT_PUBLIC_SUPABASE_URL=your_supabase_project_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key
```

### 3. è®¾ç½®æ•°æ®åº“

è®¿é—®æ‚¨çš„ Supabase é¡¹ç›®æ§åˆ¶å°ï¼Œæ‰§è¡Œ `database-setup.sql` æ–‡ä»¶ä¸­çš„ SQL è¯­å¥æ¥åˆ›å»ºè¡¨å’Œæ’å…¥ç¤ºä¾‹æ•°æ®ã€‚

### 4. å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
npm run dev
```

è®¿é—® [http://localhost:3000](http://localhost:3000) æŸ¥çœ‹åº”ç”¨ã€‚

## æ•°æ®åº“ç»“æ„

### cities (åŸå¸‚æ ‡å‡†è¡¨)
- id: ä¸»é”®
- city_name: åŸå¸‚å
- year: å¹´ä»½
- base_min: ç¤¾ä¿åŸºæ•°ä¸‹é™
- base_max: ç¤¾ä¿åŸºæ•°ä¸Šé™
- rate: ç»¼åˆç¼´çº³æ¯”ä¾‹

### salaries (å‘˜å·¥å·¥èµ„è¡¨)
- id: ä¸»é”®
- employee_id: å‘˜å·¥å·¥å·
- employee_name: å‘˜å·¥å§“å
- month: å¹´ä»½æœˆä»½ (YYYYMM)
- salary_amount: å·¥èµ„é‡‘é¢

### results (è®¡ç®—ç»“æœè¡¨)
- id: ä¸»é”®
- employee_name: å‘˜å·¥å§“å
- avg_salary: å¹´åº¦æœˆå¹³å‡å·¥èµ„
- contribution_base: æœ€ç»ˆç¼´è´¹åŸºæ•°
- company_fee: å…¬å¸ç¼´çº³é‡‘é¢
- created_at: åˆ›å»ºæ—¶é—´

## Excel æ–‡ä»¶æ ¼å¼

### @cities.xlsx æ ¼å¼
| city_name | year | base_min | base_max | rate |
|-----------|------|----------|----------|------|
| ä½›å±± | 2024 | 3323 | 26421 | 0.15 |
| å¹¿å· | 2024 | 3623 | 26421 | 0.16 |

### salaries.xlsx æ ¼å¼
| employee_id | employee_name | month | salary_amount |
|-------------|---------------|-------|---------------|
| 001 | å¼ ä¸‰ | 202401 | 8000 |
| 002 | æå›› | 202402 | 12000 |

## ä½¿ç”¨è¯´æ˜

1. **ä¸Šä¼ æ•°æ®**ï¼šåœ¨æ•°æ®ä¸Šä¼ é¡µé¢åˆ†åˆ«ä¸Šä¼ ä¸¤ä¸ª Excel æ–‡ä»¶
2. **æ‰§è¡Œè®¡ç®—**ï¼šç‚¹å‡»"æ‰§è¡Œè®¡ç®—å¹¶å­˜å‚¨ç»“æœ"æŒ‰é’®è¿›è¡Œè®¡ç®—
3. **æŸ¥çœ‹ç»“æœ**ï¼šåœ¨ç»“æœæŸ¥è¯¢é¡µé¢æŸ¥çœ‹è®¡ç®—ç»“æœ
4. **å¯¼å‡ºæ•°æ®**ï¼šå¯ä»¥å¯¼å‡ºç»“æœä¸º Excel æ–‡ä»¶

## æŠ€æœ¯æ ˆ

- **Frontend**: Next.js 14, React 19, TypeScript
- **Styling**: Tailwind CSS
- **Database**: Supabase
- **File Processing**: xlsx

## é¡¹ç›®ç»“æ„

```
social-security-calculator/
â”œâ”€â”€ app/                    # Next.js App Router
â”‚   â”œâ”€â”€ upload/            # æ•°æ®ä¸Šä¼ é¡µé¢
â”‚   â”œâ”€â”€ results/           # ç»“æœæŸ¥è¯¢é¡µé¢
â”‚   â”œâ”€â”€ globals.css        # å…¨å±€æ ·å¼
â”‚   â”œâ”€â”€ layout.tsx         # æ ¹å¸ƒå±€
â”‚   â””â”€â”€ page.tsx           # ä¸»é¡µ
â”œâ”€â”€ components/            # React ç»„ä»¶
â”‚   â”œâ”€â”€ ui/               # UI åŸºç¡€ç»„ä»¶
â”‚   â””â”€â”€ lib/              # å·¥å…·å‡½æ•°
â”œâ”€â”€ supabase.ts           # Supabase å®¢æˆ·ç«¯é…ç½®
â”œâ”€â”€ database-setup.sql    # æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
â””â”€â”€ README.md            # é¡¹ç›®è¯´æ˜
```

## å¼€å‘å‘½ä»¤

```bash
npm run dev      # å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run build    # æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run start    # å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
npm run lint     # è¿è¡Œ ESLint
```

## æ³¨æ„äº‹é¡¹

1. ç¡®ä¿ Supabase é¡¹ç›®å·²æ­£ç¡®é…ç½®ï¼Œå¹¶ä¸”æ•°æ®åº“è¡¨å·²åˆ›å»º
2. Excel æ–‡ä»¶çš„å­—æ®µåå¿…é¡»ä¸æ•°æ®åº“å­—æ®µåä¸€è‡´
3. è®¡ç®—æ—¶é»˜è®¤ä½¿ç”¨"ä½›å±±"2024å¹´çš„ç¤¾ä¿æ ‡å‡†
4. ç»“æœä¼šä¿å­˜åœ¨ results è¡¨ä¸­ï¼Œå†å²æ•°æ®ä¼šè¢«ä¿ç•™